<html ng-app="TagsUI" ng-csp>
<head>
  <script src="bower_components/angular/angular.min.js"></script>
  <script src="bower_components/angular-bootstrap/ui-bootstrap.min.js"></script>
  <script src="js/app.js"></script>

  <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
   <link rel="stylesheet" href="css/popup.css">
  <link rel="stylesheet" href="css/angular-csp.css">
  <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap-theme.min.css">
</head>
<body ng-controller="TagsUIController">
<div class="content">
<div ng-show="mode=='list'">
  <b><img src="tag32.png">&nbsp;PocketTags - add automagically tags to posts in your Pocket</b>
  <button ng-click="add()" style="margin-right: 15px;" class="btn pull-right">Add rule</button><br/>
<br/>
  Rules:
  <table class="table table-striped table-bordered">
    <tr><th>Tag</th><th>Type</th><th>Present words</th><th>Not present</th><th></th></tr>

    <tr ng-repeat="rule in rules">
      <td>{{rule.tag}}</td>
      <td>{{rule.type}}</td>
      <td>{{rule.presentString}}</td>
      <td>{{rule.not_presentString}}</td>
      <td><button ng-click="modify($index)" class="btn">Modify</button></td>
    </tr>

  </table>
</div>
<div ng-show="mode=='add'">
  Add rule:
  <table class="table">
    <td><input type="text" placeholder="Tag name" ng-model="newRule.tag"/></td>
    <td><select ng-options="type.label for type in types track by type.label" ng-model="newRule.type"/></td>
    <td><input type="text" placeholder="term1,term2,..." ng-model="newRule.presentString"/></td>
    <td><input ng-show="newRule.type.label=='Title'" type="text" placeholder="term1,term2,..." ng-model="newRule.not_presentString"/></td>
    <td><button ng-click="save()" class="btn">Save</button></td>
  </table>
</div>
<div ng-show="mode=='modify'">
  Modify rule:
  <table class="table">
    <td><input type="text" placeholder="Tag name" ng-model="newRule.tag"/></td>
    <td><select ng-options="type.label for type in types track by type.label" ng-model="newRule.type"/></td>
    <td><input type="text" placeholder="term1,term2,..." ng-model="newRule.presentString"/></td>
    <td><input ng-show="newRule.type.label=='Title'" type="text" placeholder="term1,term2,..." ng-model="newRule.not_presentString"/></td>
    <td><button ng-click="saveExisting()" class="btn">Save</button></td>
  </table>
  <button class="btn" ng-click="deleteRule()">Delete Rule</button>
  <br />
</div>
</div>
<div>Icon made by <a href="http://www.icomoon.io" title="Icomoon">Icomoon</a> from <a href="http://www.flaticon.com" title="Flaticon">www.flaticon.com</a> is licensed under <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0">CC BY 3.0</a></div>
<font size="-2">Author: <a href="http://przemelek.pl" target="_blank">Przemyslaw Rumik</a></font>
</body>
</html>
